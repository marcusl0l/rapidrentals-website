version: 1
frontend:
  phases:
    build:
      commands:
        - echo "Static site - no build required"
  artifacts:
    baseDirectory: .
    files:
      - '**/*'
  cache:
    paths: []
customHeaders:
  # Images - cache 1 year (immutable)
  - pattern: '**/*.{jpg,jpeg,png,gif,ico,svg,webp}'
    headers:
      - key: 'Cache-Control'
        value: 'public, max-age=31536000, immutable'
      - key: 'Strict-Transport-Security'
        value: 'max-age=31536000; includeSubDomains'
      - key: 'X-Content-Type-Options'
        value: 'nosniff'
  
  # CSS and JS - cache 1 year (immutable)
  - pattern: '**/*.{css,js}'
    headers:
      - key: 'Cache-Control'
        value: 'public, max-age=31536000, immutable'
      - key: 'Strict-Transport-Security'
        value: 'max-age=31536000; includeSubDomains'
      - key: 'X-Content-Type-Options'
        value: 'nosniff'
  
  # HTML pages - cache 1 hour, revalidate
  - pattern: '**/*.html'
    headers:
      - key: 'Cache-Control'
        value: 'public, max-age=3600, must-revalidate'
      - key: 'Strict-Transport-Security'
        value: 'max-age=31536000; includeSubDomains'
      - key: 'X-Content-Type-Options'
        value: 'nosniff'
      - key: 'X-Frame-Options'
        value: 'SAMEORIGIN'
  
  # Root and other files - cache 1 hour
  - pattern: '**/*'
    headers:
      - key: 'Cache-Control'
        value: 'public, max-age=3600'
      - key: 'Strict-Transport-Security'
        value: 'max-age=31536000; includeSubDomains'
      - key: 'X-Content-Type-Options'
        value: 'nosniff'
      - key: 'X-Frame-Options'
        value: 'SAMEORIGIN'
redirects:
  # Old pages (301 permanent redirects)
  - source: '/ContactUs.html'
    target: '/contact'
    status: '301'
  - source: '/Prices.html'
    target: '/prices'
    status: '301'
  - source: '/Home/Home.dwt'
    target: '/'
    status: '301'
  
  # Remove index.html from URLs
  - source: '/index.html'
    target: '/'
    status: '301'
  
  # Remove .html extensions (301 permanent)
  - source: '/contact.html'
    target: '/contact'
    status: '301'
  - source: '/prices.html'
    target: '/prices'
    status: '301'
  
  # Rewrite clean URLs to .html files (200 internal rewrite)
  - source: '/contact'
    target: '/contact.html'
    status: '200'
  - source: '/prices'
    target: '/prices.html'
    status: '200'
  
  # 404 handler
  - source: '/<*>'
    target: '/index.html'
    status: '404'
